(()=>{"use strict";var e={984:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{evaluateProgram(e){let t;for(const r of e.statements)t=this.evaluate(r);return t}evaluatePrefixExpression(e,t){if("+"===e)return t;if("-"===e)return-t;throw new Error(`bad prefix ${e}`)}evaluate(e){if("program"===e.type)return this.evaluateProgram(e);if("expression statement"===e.type)return this.evaluate(e.expression);if("number node"===e.type)return e.value;if("prefix expression"===e.type){const t=this.evaluate(e.expression);if("number"!=typeof t)throw new Error("expected sub expression type number, but received "+typeof t);return this.evaluatePrefixExpression(e.prefix,t)}throw new Error(`not supported node type '${e.type}'`)}}},590:function(e,t,r){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.execute=void 0;const s=i(r(62)),n=i(r(858)),a=i(r(984));t.execute=e=>{const t=new s.default(e),r=new n.default(t).parseProgram(),i=(new a.default).evaluate(r);return String(i)}},667:function(e,t,r){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(r(390));class n{constructor(e){this.reader=new s.default(e,n.END_OF_INPUT)}pop(){const e=this.reader.read();return this.reader.next(),e}peek(){return this.reader.read()}}n.END_OF_INPUT="\0",t.default=n},390:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t){this.chars=e,this.fallbackChar=t,this.index=0}read(){return this.index===this.chars.length?this.fallbackChar:this.chars[this.index]}next(){this.index!==this.chars.length&&this.index++}}},62:function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,s)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return s(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=a(r(667)),u=n(r(558)),f=n(r(830));t.default=class{constructor(e){this.buffer=new o.default(e)}readNumber(){const e=[];for(;f.isDigit(this.buffer.peek());)e.push(this.buffer.pop());return e.join("")}readIdentifier(){const e=[];for(;f.isLetter(this.buffer.peek())||f.isDigit(this.buffer.peek());)e.push(this.buffer.pop());return e.join("")}skipWhitespaces(){for(;f.isWhitespace(this.buffer.peek());)this.buffer.pop()}getToken(){this.skipWhitespaces();const e=this.buffer.peek();switch(e){case"+":case"-":case"*":case"/":case"=":return this.buffer.pop(),u.operator(e);case"\0":return u.end;default:if(f.isDigit(e)){const e=this.readNumber();return u.numberLiteral(e)}if(f.isLetter(e)){const e=this.readIdentifier();return u.identifier(e)}return this.buffer.pop(),u.illegal(e)}}}},558:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.end=t.illegal=t.numberLiteral=t.identifier=t.operator=void 0,t.operator=e=>({type:"operator",value:e}),t.identifier=e=>({type:"identifier",value:e}),t.numberLiteral=e=>({type:"number literal",value:e}),t.illegal=e=>({type:"illegal",value:e}),t.end={type:"end"}},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isWhitespace=t.isDigit=t.isLetter=void 0,t.isLetter=e=>1===e.length&&/^[a-zA-Z가-힣_]$/.test(e),t.isDigit=e=>1===e.length&&/^[0-9]$/.test(e),t.isWhitespace=e=>1===e.length&&/^[ \t\r\n]$/.test(e)},858:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=r(755);class s{constructor(e){this.lexer=e,this.token=e.getToken()}isEnd(){return"end"===this.token.type}read(){return this.token}next(){this.token=this.lexer.getToken()}}t.default=class{constructor(e){this.buffer=new s(e)}parseNumberLiteral(e){const t=Number(e);if(Number.isNaN(t))throw new Error(`expected non-NaN number, but received '${e}'`);return(0,i.makeNumberNode)(t)}parsePrefixExpression(){const e=this.buffer.read();if(this.buffer.next(),"number literal"===e.type)return this.parseNumberLiteral(e.value);if("identifier"===e.type)return(0,i.makeIdentifier)(e.value);if("operator"===e.type&&("+"===e.value||"-"===e.value)){const t=this.parseExpression(),r=e.value;return(0,i.makePrefixExpression)(r,t)}throw new Error(`bad token type ${e.type} for prefix expression`)}parseInfixExpression(e){let t=this.buffer.read();if("operator"!==t.type||"="!==t.value)return null;if(this.buffer.next(),t=this.buffer.read(),this.buffer.next(),"number literal"!==t.type)throw new Error(`not number literal, but received ${t.type}`);if("identifier"!==e.type)throw new Error(`expected identifier on left value, but received ${t.type}`);const r=this.parseNumberLiteral(t.value);return(0,i.makeAssignment)(e,r)}parseExpression(){const e=this.parsePrefixExpression(),t=this.parseInfixExpression(e);return null===t?e:t}parseExpressionStatement(){const e=this.parseExpression();return(0,i.makeExpressionStatement)(e)}parseStatement(){return this.parseExpressionStatement()}parseProgram(){const e=(0,i.makeProgram)();for(;!this.buffer.isEnd();){const t=this.parseStatement();null!==t&&e.statements.push(t)}return e}}},637:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.makeAssignment=t.makePrefixExpression=t.makeNumberNode=t.makeIdentifier=void 0,t.makeIdentifier=e=>({type:"identifier",value:e}),t.makeNumberNode=e=>({type:"number node",value:e}),t.makePrefixExpression=(e,t)=>({type:"prefix expression",prefix:e,expression:t}),t.makeAssignment=(e,t)=>({type:"assignment",left:e,right:t})},628:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.makeProgram=void 0,t.makeProgram=(e=[])=>({type:"program",statements:e})},755:function(e,t,r){var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var s=Object.getOwnPropertyDescriptor(t,r);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,s)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),s(r(637),t),s(r(501),t),s(r(628),t)},501:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.makeExpressionStatement=void 0,t.makeExpressionStatement=e=>({type:"expression statement",expression:e})}},t={},r=function r(i){var s=t[i];if(void 0!==s)return s.exports;var n=t[i]={exports:{}};return e[i].call(n.exports,n,n.exports,r),n.exports}(590);window.kal=r})();